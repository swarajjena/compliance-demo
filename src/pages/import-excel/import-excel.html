<!--
  Generated template for the ImportExcelPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
          
    <ion-navbar class="con_head">
          <button ion-button menuToggle>
                  <ion-icon name="menu"></ion-icon>
          </button>
      
      <ion-title>Upload Excel</ion-title>
    </ion-navbar>
  
</ion-header>
  

<ion-content padding>

    <ion-grid>
        <ion-row class="align_content_center" class="align_content_center">
          <ion-col col-5>
            <ion-card>        
              <ion-card-content>
                  <ion-label color="secondary"  *ngIf="server_file_path && !erroe_msg">File Upload successful !!</ion-label>
                  <ion-label color="danger"  *ngIf="error_msg">{{error_msg}}</ion-label>

                  <input type="file" id="file-input"  #upload  *ngIf=" !server_file_path">

                  <button ion-button clear color="header" (click)="uploadFile($event)"  *ngIf=" !server_file_path">Upload</button>

                  
              </ion-card-content>
            </ion-card>          
          </ion-col>
        </ion-row>
      </ion-grid>
    
      <ion-grid *ngIf=" server_file_path">
          <ion-row class="align_content_center" class="align_content_center" >
              <ion-col col-6 style="text-align:center;font-size:20px;margin:10px">
                  Please match excel attributes to master DB attributes
              </ion-col>
              <ion-col col-1>
                  <button ion-button (click)="attributeMapComplete()">
                      Next
                  </button>
              </ion-col>
          </ion-row>
        
          <ion-row class="align_content_center" class="align_content_center" *ngFor="let header of local_master_link">
            <ion-col col-3>
                <ion-label>
                  {{header.header}}
                </ion-label>
            </ion-col>
            <ion-col col-3>

                <ion-select [(ngModel)]="header['master_db']" interface="popover" class="select_menu" (ionChange)="chooseDb(header['id'])">
                    <ion-option value="Jurisdiction_Master">Jurisdiction Master</ion-option>
                    <ion-option value="Law_Master">Law Master</ion-option>
                    <ion-option value="Provision_Master">Provision Master</ion-option>
                    <ion-option value="Compliance_Master">Compliance Master</ion-option>
                  </ion-select>              

            </ion-col>
            <ion-col col-3>
                <ion-select [(ngModel)]="header['master_attribute']" interface="popover"  class="select_menu" >
                    <ion-option value="{{option.COLUMN_NAME}}" *ngFor="let option of header['master_attribute_options']">{{option.COLUMN_NAME}}</ion-option>
                </ion-select>              

            </ion-col>


          </ion-row>
      </ion-grid>
      
  

</ion-content>
